<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ù…ØªØ±Ø¬Ù… ØµÙˆØªÙŠ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ â†’ ÙƒØªØ§Ø¨Ø© Ø¹Ø±Ø¨ÙŠØ© | Ù…Ø¹ Ù†Ø·Ù‚</title>
<style>
body {
  font-family: "Cairo", sans-serif;
  text-align: center;
  background: #f4f6f9;
  color: #222;
  margin: 0;
  padding: 20px;
}
h1 {
  color: #2c3e50;
  margin-bottom: 20px;
}
input, button {
  font-size: 18px;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid #ccc;
  width: 90%;
  margin: 8px auto;
  display: block;
  box-sizing: border-box;
}
button {
  width: auto;
  background: #3498db;
  color: #fff;
  border: none;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #2980b9;
}
#output {
  background: #fff;
  border: 1px solid #ccc;
  min-height: 70px;
  margin-top: 10px;
  padding: 10px;
  border-radius: 10px;
  font-size: 22px;
  font-weight: bold;
}
.footer {
  margin-top: 30px;
  color: #888;
  font-size: 14px;
}
</style>
</head>
<body>

<h1>ğŸ§ Ù…ØªØ±Ø¬Ù… ØµÙˆØªÙŠ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ â†’ ÙƒØªØ§Ø¨Ø© Ø¹Ø±Ø¨ÙŠØ©</h1>

<input type="text" id="inputWord" placeholder="Ø§ÙƒØªØ¨ ÙƒÙ„Ù…Ø© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ø«Ù„: go, school">
<button onclick="translatePhonetically()">ğŸ“ ØªØ±Ø¬Ù…Ø© ØµÙˆØªÙŠØ©</button>
<button onclick="speakWord()">ğŸ”Š Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø©</button>

<div id="output">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>

<div class="footer">Ø¨Ø±Ù…Ø¬Ø©: Ø­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±ÙŠØ§Ù†ÙŠ ğŸ’¥</div>

<script>
// âœ… Ù‚Ø§Ø¹Ø¯Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø­Ø±ÙˆÙ Ø¥Ù„Ù‰ ÙƒØªØ§Ø¨Ø© Ø¹Ø±Ø¨ÙŠØ©
const exceptions = {
  "go": "Ù‚Ùˆ", "school": "Ø¥Ø³ÙƒÙˆÙ„", "know": "Ù†Ùˆ",
  "communication": "ÙƒÙˆÙ…ÙŠÙˆÙ†ÙŠÙƒÙŠØ´Ù†", "nation": "Ù†ÙŠØ´Ù†", "station": "Ø³ØªÙŠØ´Ù†",
  "phone": "ÙÙˆÙ†", "write": "Ø±Ø§ÙŠØª", "castle": "ÙƒØ§Ø³Ù„"
};

const map = [
  ['tion', 'Ø´Ù†'], ['sion', 'Ø¬Ù†'], ['sch', 'Ø¥Ø³Ùƒ'], ['kn', 'Ù†'], 
  ['ph', 'Ù'], ['gh', 'Ù'], ['wr', 'Ø±'], ['tch', 'ØªØ´'], 
  ['sh', 'Ø´'], ['ch', 'ØªØ´'], ['th', 'Ø«'], ['ck', 'Ùƒ'], ['oo', 'ÙˆÙˆ'],
  ['ee', 'ÙŠ'], ['ou', 'Ø§Ùˆ'], ['ow', 'Ùˆ'], ['qu', 'ÙƒÙˆ'], ['ci', 'Ø³ÙŠ'],
  ['ge', 'Ø¬'], ['gi', 'Ø¬'], ['ea', 'ÙŠ'], ['ai', 'Ø£ÙŠ'],
  ['a', 'Ø§'], ['b', 'Ø¨'], ['c', 'Ùƒ'], ['d', 'Ø¯'], ['e', 'ÙŠ'],
  ['f', 'Ù'], ['g', 'Ø¬'], ['h', 'Ù‡'], ['i', 'ÙŠ'], ['j', 'Ø¬'],
  ['k', 'Ùƒ'], ['l', 'Ù„'], ['m', 'Ù…'], ['n', 'Ù†'], ['o', 'Ùˆ'],
  ['p', 'Ø¨'], ['q', 'Ùƒ'], ['r', 'Ø±'], ['s', 'Ø³'], ['t', 'Øª'],
  ['u', 'Ùˆ'], ['v', 'Ù'], ['w', 'Ùˆ'], ['x', 'ÙƒØ³'], ['y', 'ÙŠ'],
  ['z', 'Ø²']
];

// ğŸ§  Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠ
function transliterate(word) {
  let w = word.toLowerCase().trim().replace(/[^a-z]/g, '');
  let out = '';
  if (!w) return ""; 

  if (exceptions[w]) return exceptions[w];

  while (w.length > 0) {
    let matched = false;
    for (const [eng, arb] of map) {
      if (w.startsWith(eng)) {
        out += arb;
        w = w.slice(eng.length);
        matched = true;
        break;
      }
    }
    if (!matched) w = w.slice(1);
  }
  return out;
}

// ğŸ¯ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ±Ø¬Ù…Ø©
function translatePhonetically() {
  const word = document.getElementById('inputWord').value.trim();
  if (!word) {
    document.getElementById('output').textContent = "Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø£ÙˆÙ„Ø§Ù‹ ğŸ‘†";
    return;
  }
  const result = transliterate(word);
  document.getElementById('output').textContent = result || "Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙƒÙ„Ù…Ø©.";
}

// ğŸ”Š Ø§Ù„Ù†Ø·Ù‚ Ø§Ù„ØµÙˆØªÙŠ
function speakWord() {
  const word = document.getElementById('inputWord').value.trim();
  if (!word) return;

  if (typeof Android !== "undefined" && Android.speak) {
    Android.speak(word);
  } else if ('speechSynthesis' in window) {
    const utter = new SpeechSynthesisUtterance(word);
    utter.lang = 'en-US';
    utter.pitch = 1;
    utter.rate = 1;
    speechSynthesis.speak(utter);
  } else {
    alert("Ø§Ù„Ù†Ø·Ù‚ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø².");
  }
}
</script>

</body>
</html>
